webpackJsonp([2],{"/1Xj":function(t,e,o){var s=o("lN+x");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,o("rjj0").default)("7837b8eb",s,!1,{})},LiMX:function(t,e,o){var s=o("wh/4");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,o("rjj0").default)("0689fe60",s,!1,{})},MiXB:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("mvHQ"),i=o.n(s),n=o("7109"),a={name:"AlphaLayout",components:{QModal:n.y,QPopover:n.C,QItem:n.n,QList:n.w},props:["layout","videoSources"],methods:{onWindowClick:function(t){this.$emit("window-click",t)}},data:function(){return{selectedWindow:void 0,x:0,y:0,height:3072,width:13660}}},r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"relative-position"},[o("svg",{staticClass:"absolute-position",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13660 3072",preserveAspectRatio:"xMidYMid meet",width:"100%"}},[o("g",[o("rect",{attrs:{x:t.x,y:t.y,width:t.width,height:t.height,stroke:"lightslategray",fill:"lightslategray","stroke-width":"3"}}),t._v(" "),t._l(t.layout.windows,function(e){return o("g",{key:e.id,on:{click:function(o){t.onWindowClick(e)}}},[o("rect",{attrs:{x:e.x,y:e.y,width:e.width,height:e.height,stroke:"gray",fill:"silver","stroke-width":"25"}}),t._v(" "),o("text",{staticClass:"svg-text",attrs:{x:Math.trunc(e.width/2+e.x),y:Math.trunc(e.height/2+e.y)}},[t._v("\n          "+t._s(e.source.name)+"\n        ")])])})],2)])])},c=[];r._withStripped=!0;var l=o("XyMi"),u=!1;var d=function(t){u||o("/1Xj")},p=Object(l.a)(a,r,c,!1,d,"data-v-712c7648",null);p.options.__file="src\\components\\AlphaLayout.vue";var h=p.exports,f={components:{QIcon:n.k,QCardActions:n.d,QInnerLoading:n.l,QSpinnerGears:n.G,AlphaLayout:h,QCard:n.c,QList:n.w,QPopover:n.C,QItemSide:n.q,QItem:n.n,QItemSeparator:n.p,QItemMain:n.o,QItemTile:n.r,QListHeader:n.x,QCardTitle:n.h,QCardSeparator:n.g,QCardMain:n.e,QSelect:n.F,ActionSheet:n.a,QModal:n.y,QModalLayout:n.z,QBtn:n.b},created:function(){},methods:{setSelectedSourceOnWindow:function(t,e){e.source=t,this.$refs.popover.hide()},onWindowClick:function(t){console.log("onWindowClick"),console.log(t),console.log("Window Clicked"),console.log(t),this.selectedWindow=t,this.$refs.popover.show()},setConsoleKvmSource:function(t,e){var o={thinkLogicalConfig:{thinkLogicalActions:[{device:"tlx24",path:"tlx-"+e.source+"2con"+(t+1)}]}};this.applyWallAction('"Set source for console '+(t+1),o)},selectLayout:function(t){this.$store.dispatch("setSelectedLayout",t),this.showLayoutSelector=!1},applyWallAction:function(t,e){console.log(e);var o={historyDescription:t,wallAction:e,httpResponse:{}};this.$store.dispatch("addToHistory",o),this.gearsVisible=!0,console.log(i()(o,!1,2));var s=this;console.log("!"),this.$axios.post("/Api/zone",o.wallAction).then(function(t){o.httpResponse=t,s.gearsVisible=!1}).catch(function(t){t.response?(o.httpRequest=t.response,o.httpResponse=t.request,o.errorMessage=t.message):t.request?(o.httpRequest=null,o.httpResponse=t.request,o.errorMessage=t.message):(console.log("Error",t.message),o.httpResponse=null,o.errorMessage=t.message),console.log(t.config),s.gearsVisible=!1})},applyChanges:function(t){var e=[];e.push({device:"vx320",path:"alpha.txt"});var o=this.$store.getters.selectedLayout,s=o.windows.map(function(t,e){return{id:e+1,input:t.source.source,y:t.y,x:t.x,height:t.height,width:t.width}}),i={presetFile:o.presetFileName,alphaConfig:{closeAll:!0,alphaActions:s},thinkLogicalConfig:{thinkLogicalActions:e}};this.applyWallAction(t,i)}},computed:{selectedLayout:function(){return this.$store.getters.selectedLayout},consoles:function(){return this.$store.getters.consoles},layouts:function(){return this.$store.getters.layouts},kvmSources:function(){return this.$store.getters.kvmSources.map(function(t){return{label:t.description,value:t.id,icon:t.icon}})},videoSources:function(){return this.$store.getters.videoSources}},data:function(){return{selectedWindow:void 0,gearsVisible:!1,showLayoutSelector:!1,showSourceSelector:!1,classes:{width:2,isFirst:function(t){return t>1}}}}},v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"relative-position"},[o("q-card",[o("div",{staticClass:"row justify-center"},[o("h5",{attrs:{"justify-center":""}},[t._v("Console Input")])]),t._v(" "),o("q-card-main",{staticClass:"row justify-center"},t._l(t.consoles,function(e,s){return o("q-select",{key:s,class:["col-md-3",s>0?"offset-md-1":""],attrs:{"stack-label":e.name+" KVM Source",inverted:"",color:"blue-grey",separator:"",options:t.kvmSources},on:{input:function(o){t.setConsoleKvmSource(s,e)}},model:{value:e.source,callback:function(o){t.$set(e,"source",o)},expression:"c.source"}})}))],1),t._v(" "),o("q-card",{attrs:{"justify-center":""}},[o("div",{staticClass:"row justify-center"},[o("h5",{attrs:{"justify-center":""}},[t._v("Wall Layout")])]),t._v(" "),o("q-card-main",[o("AlphaLayout",{attrs:{layout:t.selectedLayout,videoSources:t.videoSources},on:{"window-click":t.onWindowClick}})],1),t._v(" "),o("q-modal",{ref:"popover"},[o("q-list",{attrs:{separator:""}},t._l(t.videoSources,function(e,s){return o("q-item",{key:s,nativeOn:{click:function(o){t.setSelectedSourceOnWindow(e,t.selectedWindow)}}},[o("q-icon",{staticClass:"col-md-3",attrs:{name:e.icon}}),o("div",{staticClass:"col-md-6"},[t._v(t._s(e.name))])],1)}))],1),t._v(" "),o("q-modal",{ref:"selectLayoutModal",staticClass:"row justify-center shadow-10",attrs:{"content-css":{minWidth:"40vw",minHeight:"90vh"}},model:{value:t.showLayoutSelector,callback:function(e){t.showLayoutSelector=e},expression:"showLayoutSelector"}},[o("q-modal-layout",{attrs:{"header-stsyle":"min-height: 100px","content-class":"{'bg-primary': isPrimary, 'some-class': someBoolean}","footer-class":"bg-primary some-class","footer-style":"{fontSize: '24px', fontWeight: 'bold'}"}},[o("div",{staticStyle:{padding:"10px","text-align":"center"},attrs:{slot:"header"},slot:"header"},[o("h5",[t._v("Choose a video wall layout")])]),t._v(" "),o("div",{staticStyle:{"text-align":"center",padding:"10px"},attrs:{slot:"footer"},slot:"footer"},[o("q-btn",{staticStyle:{"text-align":"center",padding:"10px"},attrs:{icon:"fa-check",rounded:"",color:"green"},on:{click:function(e){t.showLayoutSelector=!0}}},[t._v("Cancel")])],1),t._v(" "),o("div",{staticClass:"row justify-center shadow-10",staticStyle:{padding:"20px"}},t._l(t.layouts,function(e){return o("div",{key:e.id,staticClass:"col-md-12",staticStyle:{margin:"10px"},on:{click:function(o){t.selectLayout(e)}}},[o("AlphaLayout",{attrs:{layout:e}})],1)}))])],1),t._v(" "),o("div",{staticClass:"row justify-center",staticStyle:{"margin-bottom":"10px"}},[o("q-btn",{staticClass:"col-md-3",staticStyle:{"text-align":"center",padding:"10px"},attrs:{icon:"fa-hand-o-up",rounded:"",color:"primary"},on:{click:function(e){t.showLayoutSelector=!0}}},[t._v("Select Layout")])],1),t._v(" "),o("div",{staticClass:"row justify-center",staticStyle:{"margin-bottom":"10px"}},[o("q-btn",{staticClass:"col-md-3",staticStyle:{"text-align":"center",padding:"10px"},attrs:{icon:"fa-check",rounded:"",color:"green"},on:{click:function(e){t.applyChanges("Apply Layout Changes")}}},[t._v("Apply")])],1)],1)],1)},y=[];v._withStripped=!0;var g=!1;var m=function(t){g||o("LiMX")},w=Object(l.a)(f,v,y,!1,m,"data-v-1fd3c5e0",null);w.options.__file="src\\pages\\Alpha.vue";e.default=w.exports},"lN+x":function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n.svg-text[data-v-712c7648] {\n  font-family: Verdana;\n  font-size: 25em;\n  fill: black;\n  text-anchor:middle;\n  alignment-baseline: middle\n}\n",""])},mvHQ:function(t,e,o){t.exports={default:o("qkKv"),__esModule:!0}},qkKv:function(t,e,o){var s=o("FeBl"),i=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},"wh/4":function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n.layout-padding[data-v-1fd3c5e0] {\n  padding:1px;\n}\n",""])}});